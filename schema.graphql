type Auction @entity {
  id: ID! # Contract address (Using Factory pattern)
  createdAt: Int # The UTC timestamp at which the auction was placed
  updatedAt: Int # The UTC timestamp at which the auction was updated
  deletedAt: Int # The UTC timestamp at which the auction was deleted
  status: String # open/ended/settled/upcoming
  startTime: Int # Open block
  endTime: Int # Close auction
  gracePeriod: Int # Int of seconds after the endTime of the auction
  tokenAmount: Int # Total amount of tokens available for auctioning
  tokenIn: AuctionToken
  tokenOut: AuctionToken
  bids: [AuctionBid!] @derivedFrom(field: "auction")
}

type AuctionBid @entity {
  id: ID!
  status: String # submitted/settled/cancelled/claimed
  auction: Auction
  createdAt: Int # The UTC timestamp at which the bid was placed
  updatedAt: Int # The UTC timestamp at which the bid was updated
  deletedAt: Int # The UTC timestamp at which the bid was deleted
  tokenInAmount: Int # Int of tokens the investor wants to buy
  tokenOutAmount: Int # Int of tokens the investor wants to buy
  address: String # The bidder's Ethereum address
}

type AuctionToken @entity {
  id: ID!
  auction: Auction #references the auction
  name: String # Token name, from the smart contract ERC20.name()
  address: String # ERC20 Token's contract address
  symbol: String # Symbol, from ERC20.symbol()
  decimals: Int # Decimal, from ERC.decimals()
}

type AuctionUser @entity {
  id: ID!
  address: String # The bidder's Ethereum address
}
